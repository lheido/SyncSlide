function Sync(a){if(void 0!=a)this.socket=a;else{if(void 0==io)throw"Pass socket to the constructor, or make sure socket.io.js is loaded";this.socket=io("http://localhost:3000")}}function SyncServer(a){Sync.call(this,a);var b=this;this.socket.on("SendEvents",function(a){for(var c in a)b.socket.on(a[c],function(d){b.broadcast(a[c],d)})})}function SyncClient(a){Sync.call(this,void 0);var b=[],c=a.events;if(void 0==c)throw"Client options must contain events object";for(var d in c)b.push(d),this.socket.on(d,c[d]);this.emit("SendEvents",b)}Sync.prototype.emit=function(){this.socket.emit.apply(this.socket,arguments)},Sync.prototype.broadcast=function(){try{this.socket.broadcast.emit.apply(this.socket,arguments)}catch(a){console.log(a)}},SyncServer.prototype=Object.create(Sync.prototype),SyncServer.prototype.constructor=SyncServer,SyncClient.prototype=Object.create(Sync.prototype),SyncClient.prototype.constructor=SyncClient;try{module.exports={SyncServer:SyncServer,SyncClient:SyncClient}}catch(error){}